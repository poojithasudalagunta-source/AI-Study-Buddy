<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Study Buddy â€“ Flip Card</title>

<style>
body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #878c9e, #444446);
    font-family: Arial, sans-serif;
}

.scene {
    width: 380px;
    height: 300px;
    perspective: 1000px;
}

.card {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.8s;
}

.card.flip {
    transform: rotateY(180deg);
}

.face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 14px;
    background: #c7cfb0;
    box-shadow: 0 15px 35px rgba(0,0,0,0.2);
    padding: 20px;
    box-sizing: border-box;
}

.front {
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.back {
    transform: rotateY(180deg);
    overflow-y: auto;
}

h2 {
    text-align: center;
}

input {
    padding: 10px;
    font-size: 14px;
    margin-top: 15px;
    border-radius: 6px;
    border: 1px solid #ccc;
}

button {
    margin-top: 15px;
    padding: 10px;
    font-size: 15px;
    border: none;
    border-radius: 6px;
    background: #d1d4e0;
    color: rgb(131, 105, 105);
    cursor: pointer;
}

button:hover {
    background: #5c627c;
}

.output {
    font-size: 14px;
    line-height: 1.5;
}

.back button {
    background: #444;
}
</style>
</head>

<body>

<div class="scene">
    <div class="card" id="card">

        <!-- FRONT SIDE -->
        <div class="face front">
            <h2>ðŸ¤– AI Study Buddy</h2>
            <p>Enter a topic</p>
            <input type="text" id="topic" placeholder="e.g. Pointers in C">
            <button onclick="explain()">Explain</button>
        </div>

        <!-- BACK SIDE -->
        <div class="face back">
            <h2>ðŸ“˜ Explanation</h2>
            <div class="output" id="output"></div>
            <button onclick="goBack()">Back</button>
        </div>

    </div>
</div>

<script>
async function explain() {
    const topic = document.getElementById("topic").value.trim();
    const output = document.getElementById("output");
    const card = document.getElementById("card");

    if (topic === "") {
        alert("Enter a topic");
        return;
    }

    output.innerHTML = "ðŸ¤– Thinking...";

    // FLIP THE CARD
    card.classList.add("flip");

    // Wikipedia API
    const url = `https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(topic)}`;

    try {
        const res = await fetch(url);
        const data = await res.json();

        if (!data.extract) {
            output.innerHTML = "No explanation found. Try a different topic.";
        } else {
            output.innerHTML = `
                <strong>${topic}</strong><br><br>
                ${data.extract}
                <br><br>
                <small>Source: Wikipedia</small>
            `;
        }
    } catch {
        output.innerHTML = "Error fetching data. Check internet connection.";
    }
}

function goBack() {
    document.getElementById("card").classList.remove("flip");
}
</script>

</body>
</html>
